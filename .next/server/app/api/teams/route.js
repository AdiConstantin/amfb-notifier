"use strict";(()=>{var e={};e.id=281,e.ids=[281],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},71396:e=>{e.exports=require("undici")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},84492:e=>{e.exports=require("node:stream")},12781:e=>{e.exports=require("stream")},71576:e=>{e.exports=require("string_decoder")},72119:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>u,dynamic:()=>c});var o=r(49303),i=r(88716),n=r(60670),s=r(87070),l=r(19817);let c="force-dynamic";async function u(){console.log("Teams API called");try{let e=await (0,l.AC)();return console.log("Teams discovered:",e),console.log("Number of teams:",e.length),s.NextResponse.json({teams:e})}catch(e){return console.error("Error in teams API:",e),s.NextResponse.json({error:"Failed to fetch teams",teams:[]},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/teams/route",pathname:"/api/teams",filename:"route",bundlePath:"app/api/teams/route"},resolvedPagePath:"D:\\git\\amfb-notifier\\app\\api\\teams\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:f}=d,g="/api/teams/route";function h(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:m})}},19817:(e,t,r)=>{r.d(t,{AC:()=>u,R7:()=>p});var a=r(74666),o=r(16727),i=r(34077),n=r(92685),s=r(6113),l=r.n(s);let c="https://amfb.ro/competitii/campionat-minifotbal/grupa-2013-albastru/";async function u(){try{console.log("\uD83D\uDD0D Fetching teams from AMFB...");let e=await fetch(c,{headers:{"user-agent":"Mozilla/5.0 AMFB-Notifier"}});if(!e.ok)return console.error("❌ Failed to fetch:",e.status),d();let t=await e.text(),r=a.zD(t),o=new Set,i=r("body").text(),n=d();for(let e of n)for(let t of[e,e.replace(/\.$/,""),e+".",e.replace(/\s+/g,"")])if(RegExp(`\\b${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(i)){o.add(e);break}for(let e of i.split("\n").map(e=>e.trim()).filter(Boolean))if(e.includes(":")&&/\d{1,2}:\d{2}/.test(e)){let t=e.replace(/\d{1,2}:\d{2}/g," ").replace(/\b(rezultat|etapa|data|duminica|sambata|ora)\b/gi," ").replace(/\b\d+\b/g," ").replace(/[\/\(\)\-–]/g," ").replace(/\s+/g," ").trim();for(let e of n){RegExp(`\\b${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(t)&&o.add(e);let r=e.replace(/\./g,"");r!==e&&RegExp(`\\b${r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`,"gi").test(t)&&o.add(e)}}let s=Array.from(o).sort((e,t)=>e.localeCompare(t,"ro"));return console.log("✅ Found teams:",s.length,s),s.length>0?s:d()}catch(e){return console.error("❌ Error fetching teams:",e),d()}}function d(){return["DNG","Sport Team","Alex. Vaidean","Dan Chilom","Marius L.","Raiders","Real Sport","ACS Juniorul 2014","Metaloglobus","Partizan","Academic","Acad MCR","D'angelo","Derby"]}async function p(e){let t=await fetch(c,{headers:{"user-agent":"Mozilla/5.0 AMFB-Notifier"}}),r=await t.text(),s=a.zD(r),u=s("table tr"),d=[];u.each((e,t)=>{let r;let a=s(t).find("td");if(a.length<3)return;let o=s(a[0]).text().trim(),i=s(a[1]).text().trim(),n=s(a[2]).text().trim(),l=i.split("-").map(e=>e.trim());if(l.length<2)return;let[c,u]=l,p=o.match(/(\d{2})\.(\d{2})\.(\d{4})\s+(\d{2}):(\d{2})/);if(p){let[e,t,a,o,i,n]=p;r=`${o}-${a}-${t}T${i}:${n}:00+03:00`}c&&u&&d.push({teamA:c,teamB:u,dateISO:r,location:n})});let p=new Date,m=(0,o.b)(p),f={};for(let t of e)f[t]=[];for(let t of d){let r=[t.teamA,t.teamB];for(let a of e){var g;let e=r.findIndex(e=>e.toLowerCase().includes(a.toLowerCase()));if(-1===e)continue;let o=r[1-e];if(t.dateISO){let e=new Date(t.dateISO);if(!(0,i.A)((0,n.T)(e,0),m))continue}let s={team:a,opponent:o,dateISO:t.dateISO??"",location:t.location,hash:(g=t.dateISO,l().createHash("sha1").update(`${a}|${o}|${g??""}`).digest("hex"))};f[a].push(s)}}return f}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,972,615,152],()=>r(72119));module.exports=a})();